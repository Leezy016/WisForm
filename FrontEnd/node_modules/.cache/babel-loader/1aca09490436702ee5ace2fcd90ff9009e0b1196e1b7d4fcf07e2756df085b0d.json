{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '../router';\nimport axios from 'axios';\nexport default {\n  name: 'RegisterForm',\n  data() {\n    return {\n      username: '',\n      password: '',\n      role: 'dean',\n      department: '',\n      isNotDean: false,\n      errorMessage: '',\n      roleOptions: [{\n        value: 'dean',\n        label: '院长'\n      }, {\n        value: 'chair',\n        label: '系主任'\n      }, {\n        value: 'teacher',\n        label: '老师'\n      }],\n      departmentOptions: [{\n        value: 'CS',\n        label: '计算机科学与技术'\n      }, {\n        value: 'IS',\n        label: '信息安全'\n      }]\n    };\n  },\n  methods: {\n    handleSubmit() {\n      if (!this.username) {\n        this.errorMessage = '请填写用户名';\n        return;\n      }\n      if (!this.password) {\n        this.errorMessage = '请填写密码';\n        return;\n      }\n      if (!this.role) {\n        this.errorMessage = '请填写用户身份';\n        return;\n      }\n      if (this.role != 'dean' && !this.department) {\n        this.errorMessage = '请填写所处院系';\n        return;\n      }\n      this.errorMessage = '';\n      axios.post('http://localhost:8080/api/register', {\n        username: this.username,\n        password: this.password,\n        role: this.role,\n        department: this.department\n      }).then(response => {\n        if (response.data.success) {\n          // 注册成功处理逻辑  \n          console.log('注册成功');\n          // 使用router.push跳转到/login页面  \n          router.push('/login');\n          alert('注册成功！');\n        } else {\n          this.errorMessage = response.data.message || '注册失败了，请稍后再试';\n        }\n      }).catch(error => {\n        if (error.response) {\n          // 后端返回的错误信息\n          this.errorMessage = error.response.data;\n        } else {\n          this.errorMessage = '注册失败，请稍后再试';\n        }\n      });\n    },\n    checkDean() {\n      // 当身份选择变化时，检查是否为院长 \n      if (this.role === 'dean') this.isNotDean = false;else this.isNotDean = true;\n    }\n  }\n};","map":{"version":3,"names":["router","axios","name","data","username","password","role","department","isNotDean","errorMessage","roleOptions","value","label","departmentOptions","methods","handleSubmit","post","then","response","success","console","log","push","alert","message","catch","error","checkDean"],"sources":["/Users/aoliliaoao/Downloads/WisForm/FrontEnd/src/components/Registation.vue"],"sourcesContent":["<template>\n    <div class=\"w3l-hotair-form\">\n\n        <h1>欢 迎 注 册 Wisform！</h1>\n\n        <div class=\"container\">\n            <div class=\"workinghny-form-grid\">\n                <div class=\"main-hotair\">\n                    <div class=\"content-wthree\">\n\n                        <h2>Sign up</h2>\n                        <form @submit.prevent=\"handleSubmit\">\n                            <input type=\"text\" class=\"text\" name=\"text\" placeholder=\"User Name\" v-model=\"username\" >\n                            <input type=\"password\" class=\"password\" name=\"password\" placeholder=\"User Password\" v-model=\"password\" >\n                            <p v-if=\"loginError\" class=\"error-message\">{{ loginError }}</p>\n\n                            <el-select\n                            v-model=\"role\"\n                            placeholder=\"身份\"\n                            size=\"large\"\n                            style=\"width: 350px\"\n                            @change=\"checkDean\"\n                            class=\"sel\"\n                            >\n                            <el-option\n                            v-for=\"item in roleOptions\"\n                            :key=\"item.value\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                            />\n                            </el-select>\n\n                            <div v-if=\"isNotDean\">  \n\n                                <el-select\n                            v-model=\"department\"\n                            placeholder=\"系别\"\n                            size=\"large\"\n                            style=\"width: 350px\"\n                            class=\"sel\"\n                            >\n                            <el-option\n                            v-for=\"item in departmentOptions\"\n                            :key=\"item.value\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                            />\n                            </el-select>\n                        </div>\n\n                            <button class=\"btn\" type=\"submit\">Sign up</button>\n                        </form>\n                        \n                        <p class=\"account\">已有账号？ <a href=\"/login\">请点此登陆</a></p>\n                    </div>\n\n                    <div class=\"w3l_form align-self\">\n                        <div class=\"left_grid_info\">\n                            <img src=\"@/assets/login2.png\" >\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport router from '../router';\nimport axios from 'axios';\nexport default {  \n    name: 'RegisterForm',  \n    data() {  \n      return {  \n        username: '',  \n        password: '',  \n        role: 'dean', \n        department:'',\n        isNotDean:false,\n        errorMessage: '',  \n        roleOptions: [\n  {\n    value: 'dean',\n    label: '院长',\n  },\n  {\n    value: 'chair',\n    label: '系主任',\n  },\n  {\n    value: 'teacher',\n    label: '老师',\n  }\n],\ndepartmentOptions: [\n  {\n    value: 'CS',\n    label: '计算机科学与技术',\n  },\n  {\n    value: 'IS',\n    label: '信息安全',\n  }\n]\n      };  \n    },  \n    methods: {  \n      handleSubmit() {  \n        if (!this.username){\n          this.errorMessage = '请填写用户名';  \n          return;  \n        } \n        if (!this.password){\n          this.errorMessage = '请填写密码';  \n          return;  \n        }\n        if (!this.role){\n          this.errorMessage = '请填写用户身份';  \n          return;  \n        } \n        if (this.role!='dean' && !this.department){\n          this.errorMessage = '请填写所处院系';  \n          return;  \n        } \n  \n  \n        this.errorMessage = '';  \n  \n        axios.post('http://localhost:8080/api/register', {  \n          username: this.username,  \n          password: this.password,  \n          role: this.role , \n          department:this.department\n        })  \n        .then(response => {  \n          if (response.data.success) {\n          // 注册成功处理逻辑  \n          console.log('注册成功');\n          // 使用router.push跳转到/login页面  \n          router.push('/login'); \n          alert('注册成功！');\n          }else {  \n            this.errorMessage = response.data.message || '注册失败了，请稍后再试';  \n          }\n        })  \n        .catch(error => {  \n          if (error.response) {  \n            // 后端返回的错误信息\n            this.errorMessage = error.response.data;   \n          }else {\n            this.errorMessage = '注册失败，请稍后再试';\n          }\n        });  \n      }, \n      checkDean() {  \n        // 当身份选择变化时，检查是否为院长 \n        if(this.role==='dean')\n        this.isNotDean = false;\n        else\n        this.isNotDean = true;\n      },  \n    },  \n  };  \n    </script>\n\n<style>\n.sel{\n    margin-top: 10px;\n    margin-bottom: 10px;\n}\n\n* {\n    box-sizing: border-box;\n}\n\n.d-grid {\n    display: grid;\n}\n\n.d-flex {\n    display: flex;\n    display: -webkit-flex;\n}\n\n.text-center {\n    text-align: center;\n}\n\n.text-left {\n    text-align: left;\n}\n\n.text-right {\n    text-align: right;\n}\n\nbutton,\ninput,\nselect {\n    outline: none;\n    font-family: 'Noto Sans JP', sans-serif;\n}\n\nbutton,\n.btn,\nselect {\n    cursor: pointer;\n}\n\na {\n    text-decoration: none;\n}\n\nimg {\n    max-width: 100%;\n}\n\nul {\n    margin: 0;\n    padding: 0\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np {\n    font-family: '黑体';\n    margin: 0;\n    padding: 0\n}\n\np {\n    color: #666;\n    font-size: 16px;\n    line-height: 25px;\n    opacity: .6;\n    text-align: center;\n}\n\n.p-relative {\n    position: relative;\n}\n\n.p-absolute {\n    position: absolute;\n}\n\n.p-fixed {\n    position: fixed;\n}\n\n.p-sticky {\n    position: sticky;\n}\n\n.btn,\nbutton,\n.actionbg,\ninput {\n    border-radius: 36px;\n    -webkit-border-radius: 36px;\n    -moz-border-radius: 36px;\n    -o-border-radius: 36px;\n    -ms-border-radius: 36px;\n}\n\n.btn:hover,\nbutton:hover {\n    transition: 0.5s ease;\n    -webkit-transition: 0.5s ease;\n    -o-transition: 0.5s ease;\n    -ms-transition: 0.5s ease;\n    -moz-transition: 0.5s ease;\n}\n\n/*-- wrapper start --*/\n.wrapper {\n    width: 100%;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto;\n}\n\n@media (min-width: 576px) {\n    .wrapper {\n        max-width: 540px;\n    }\n}\n\n@media (min-width: 768px) {\n    .wrapper {\n        max-width: 720px;\n    }\n}\n\n@media (min-width: 992px) {\n    .wrapper {\n        max-width: 960px;\n    }\n}\n\n@media (min-width: 1200px) {\n    .wrapper {\n        max-width: 1140px;\n    }\n}\n\n.wrapper-full {\n    width: 100%;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto;\n}\n\n/*-- //wrapper start --*/\n\n/*-- form styling --*/\n.w3l-hotair-form {\n    position: relative;\n    min-height: 100vh;\n    z-index: 0;\n    background: #6292ff;\n    padding: 40px 40px;\n    justify-content: center;\n    display: grid;\n    grid-template-rows: 1fr auto 1fr;\n    align-items: center;\n}\n.container {\n    max-width: 890px;\n    margin: 0 auto;\n}\n\n.w3l_form {\n    flex-basis: 50%;\n    -webkit-flex-basis: 50%;\n    background: #f4f9fd;\n    background-size: cover;\n    -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    -ms-background-size: cover;\n    padding: 40px;\n    border-top-right-radius: 8px;\n    border-bottom-right-radius: 8px;\n    align-items: center;\n    display: grid;\n}\n\n.content-wthree {\n    flex-basis:50%;\n    -webkit-flex-basis:50%;\n    box-sizing: border-box;\n    padding: 3em 3em;\n    background: #fff;\n    box-shadow: 2px 9px 49px -17px rgba(0, 0, 0, 0.1);\n    border-top-left-radius: 8px;\n    border-bottom-left-radius: 8px;\n}\n\n.w3l-workinghny-form .logo {\n    text-align: center;\n}\n\n.w3l-hotair-form .main-hotair {\n    position: relative;\n    display: -webkit-box;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n    margin: 40px 0;\n}\n\n.w3l-hotair-form form {\n    margin-top: 30px;\n    margin-bottom: 30px;\n}\n\n.social-icons {\n    text-align: center;\n    margin-top: 16px;\n}\np.account, p.account a {\n    text-align: center;\n    padding-top: 20px;\n    padding-bottom: 0px;\n    font-size: 16px;\n    color: #333;\n}\n\np.account a{\n    color:black;\n}\np.account a:hover {\n    text-decoration: underline;\n}\n.w3l-hotair-form h1 {\n    text-align: center;\n    font-size: 40px;\n    font-weight: 700;\n    color: white;\n}\n\n.w3l-hotair-form h2 {\n    font-size: 30px;\n    line-height: 40px;\n    margin-bottom: 5px;\n    font-weight: 900;\n    color: #272346;\n    text-align: center;\n}\n\n.w3l-hotair-form input{\n    outline: none;\n    margin-bottom: 15px;\n    font-size: 16px;\n    color: #999;\n    text-align: left;\n    padding: 14px 20px;\n    width: 100%;\n    display: inline-block;\n    box-sizing: border-box;\n    border: none;\n    outline: none;\n    background: #f7fafc;\n    border: 1px solid #e5e5e5;\n    transition: .3s ease;\n    -webkit-transition: .3s ease;\n    -moz-transition: .3s ease;\n    -ms-transition: .3s ease;\n    -o-transition: .3s ease;\n}\n.w3l-hotair-form input:focus {\n    background:transparent;\n    border: 1px solid #0568C1;\n}\n.w3l-hotair-form button {\n    font-size: 18px;\n    color: #fff;\n    width: 100%;\n    background: #6292ff;\n    border: none;\n    padding: 14px 15px;\n    font-weight: 700;\n    transition: .3s ease;\n    -webkit-transition: .3s ease;\n    -moz-transition: .3s ease;\n    -ms-transition: .3s ease;\n    -o-transition: .3s ease;\n}\n\n.w3l-hotair-form button:hover {\n    background: #8eacfe;\n}\n\n.w3l-hotair-form .social-icons ul li {\n    list-style: none;\n    display: inline-block;\n}\n\n.w3l-hotair-form .social-icons ul li a {\n    padding: 8px;\n}\n\n.w3l-hotair-form .social-icons ul li a:hover {\n    opacity: 0.8;\n    transition: 0.5s ease;\n    -webkit-transition: 0.5s ease;\n    -o-transition: 0.5s ease;\n    -ms-transition: 0.5s ease;\n    -moz-transition: 0.5s ease;\n}\n\n.w3l-hotair-form .social-icons ul span.fa {\n    color: #696687;\n    font-size: 18px;\n    opacity: .8;\n}\n\n.w3l-hotair-form .social-icons ul li a.facebook span {\n    font-size: 18px;\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    margin-right: 6px;\n    border: 2px solid #696687;line-height:32px;\n}\n\n.w3l-hotair-form .social-icons ul li a.twitter span {\n    color: #1da1f2;\n    font-size: 18px;\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    margin-right: 6px;\n    border: 2px solid #1da1f2;\n    line-height:32px;\n}\n\n.w3l-hotair-form .social-icons ul li a.pinterest span {\n    color:#e60023;\n    font-size: 18px;\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    margin-right: 6px;\n    border: 2px solid #e60023;\n    line-height:32px;\n}\n\n\n.copyright p {\n    text-align: center;\n    font-size: 17px;\n    line-height: 26px;\n    color: #fff;\n    opacity: 1;\n}\n\np.copy-footer-29 a {\n    color: #fff;\n}\n\np.copy-footer-29 a:hover {\n    color:#fdc500;\n    transition: 0.5s ease;\n    -webkit-transition: 0.5s ease;\n    -o-transition: 0.5s ease;\n    -ms-transition: 0.5s ease;\n    -moz-transition: 0.5s ease;\n}\n\n\n/* -- placeholder --*/\n\n\n/*-- responsive design --*/\n\n@media (max-width:736px) {\n    .w3l-hotair-form .main-hotair {\n        flex-direction: column;\n    }\n    .w3l-hotair-form form {\n        margin-top: 30px;\n        margin-bottom: 10px;\n    }\n    .w3l_form {\n        order: 2;\n        border-radius: 0;\n        border-bottom-left-radius: 8px;\n        border-bottom-right-radius: 8px;\n        border-top-right-radius: 0;\n    }\n    .content-wthree {\n        order: 1;\n        border-radius: 0;\n        border-top-left-radius: 8px;\n        border-top-right-radius: 8px;\n    }\n}\n\n@media (max-width:568px) {\n    .w3l-hotair-form h1 {\n        font-size: 36px;\n    }\n\n    .w3l-hotair-form .main-hotair {\n        margin: 30px 0;\n    }\n\n    .content-wthree {\n        padding: 2.5em;\n    }\n}\n\n@media (max-width:480px) {\n    .w3l-hotair-form {\n        padding: 40px 30px;\n    }\n    .w3l-hotair-form h1 {\n        font-size: 26px;\n    }\n}\n\n@media (max-width:384px) {\n    .w3l-hotair-form {\n        padding: 30px 15px;\n    }\n\n    .content-wthree {\n        padding: 2em;\n    }\n    .w3l-hotair-form h2 {\n        font-size: 22px;\n        line-height: 32px;\n    }\n\n    .copyright p {\n        font-size: 16px;\n    }\n\n}\n</style>"],"mappings":";AAqEA,OAAOA,MAAK,MAAO,WAAW;AAC9B,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,MAAM;MACZC,UAAU,EAAC,EAAE;MACbC,SAAS,EAAC,KAAK;MACfC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE,CACnB;QACEC,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACT,CAAC,EACD;QACED,KAAK,EAAE,OAAO;QACdC,KAAK,EAAE;MACT,CAAC,EACD;QACED,KAAK,EAAE,SAAS;QAChBC,KAAK,EAAE;MACT,EACD;MACDC,iBAAiB,EAAE,CACjB;QACEF,KAAK,EAAE,IAAI;QACXC,KAAK,EAAE;MACT,CAAC,EACD;QACED,KAAK,EAAE,IAAI;QACXC,KAAK,EAAE;MACT;IAEI,CAAC;EACH,CAAC;EACDE,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC,IAAI,CAACX,QAAQ,EAAC;QACjB,IAAI,CAACK,YAAW,GAAI,QAAQ;QAC5B;MACF;MACA,IAAI,CAAC,IAAI,CAACJ,QAAQ,EAAC;QACjB,IAAI,CAACI,YAAW,GAAI,OAAO;QAC3B;MACF;MACA,IAAI,CAAC,IAAI,CAACH,IAAI,EAAC;QACb,IAAI,CAACG,YAAW,GAAI,SAAS;QAC7B;MACF;MACA,IAAI,IAAI,CAACH,IAAI,IAAE,MAAK,IAAK,CAAC,IAAI,CAACC,UAAU,EAAC;QACxC,IAAI,CAACE,YAAW,GAAI,SAAS;QAC7B;MACF;MAGA,IAAI,CAACA,YAAW,GAAI,EAAE;MAEtBR,KAAK,CAACe,IAAI,CAAC,oCAAoC,EAAE;QAC/CZ,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,IAAI,EAAE,IAAI,CAACA,IAAG;QACdC,UAAU,EAAC,IAAI,CAACA;MAClB,CAAC,EACAU,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAACf,IAAI,CAACgB,OAAO,EAAE;UAC3B;UACAC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;UACnB;UACArB,MAAM,CAACsB,IAAI,CAAC,QAAQ,CAAC;UACrBC,KAAK,CAAC,OAAO,CAAC;QACd,CAAC,MAAK;UACJ,IAAI,CAACd,YAAW,GAAIS,QAAQ,CAACf,IAAI,CAACqB,OAAM,IAAK,aAAa;QAC5D;MACF,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACR,QAAQ,EAAE;UAClB;UACA,IAAI,CAACT,YAAW,GAAIiB,KAAK,CAACR,QAAQ,CAACf,IAAI;QACzC,CAAC,MAAK;UACJ,IAAI,CAACM,YAAW,GAAI,YAAY;QAClC;MACF,CAAC,CAAC;IACJ,CAAC;IACDkB,SAASA,CAAA,EAAG;MACV;MACA,IAAG,IAAI,CAACrB,IAAI,KAAG,MAAM,EACrB,IAAI,CAACE,SAAQ,GAAI,KAAK,MAEtB,IAAI,CAACA,SAAQ,GAAI,IAAI;IACvB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}