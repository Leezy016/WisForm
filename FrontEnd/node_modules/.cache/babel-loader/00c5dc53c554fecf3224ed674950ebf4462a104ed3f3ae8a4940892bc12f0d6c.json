{"ast":null,"code":"import NavBar from './NavBar.vue';\nimport axios from 'axios';\nexport default {\n  props: ['title'],\n  data() {\n    return {\n      sum: 2,\n      item: ['item1', 'item2'],\n      content: ['1', '2'],\n      getcErrorMessage: '',\n      getsErrorMessage: '',\n      pageSize: 4\n    };\n  },\n  components: {\n    NavBar\n  },\n  computed: {\n    // 计算总页数\n    pageCount() {\n      // 使用Math.ceil来确保如果有余数，则增加一页\n      return Math.ceil(this.sum / this.pageSize);\n    }\n  },\n  methods: {\n    getSum() {\n      axios.post('http://localhost:8080/fillformlist', {\n        formatname: this.title\n      }).then(response => {\n        if (response.data.success) {\n          this.sum = response.data.numm;\n        } else {\n          this.getsErrorMessage = response.data.message || '表单获取失败，请稍后再试';\n        }\n      }).catch(error => {\n        if (error.response) {\n          // 后端返回的错误信息\n          this.getsErrorMessage = error.response.data;\n        } else {\n          this.getsErrorMessage = '表单获取失败，请稍后再试';\n        }\n      });\n    },\n    getContent(n) {\n      axios.post('http://localhost:8080/fillformlist', {\n        num: n\n      }).then(response => {\n        if (response.data.success) {\n          this.item = response.data.Itemlist, this.content = response.data.ValueList;\n        } else {\n          this.getcErrorMessage = response.data.message || '表单获取失败，请稍后再试';\n        }\n      }).catch(error => {\n        if (error.response) {\n          // 后端返回的错误信息\n          this.getcErrorMessage = error.response.data;\n        } else {\n          this.getcErrorMessage = '表单获取失败，请稍后再试';\n        }\n      });\n    }\n  },\n  created() {\n    //this.getSum();\n    //this.getContent(0); \n  }\n};","map":{"version":3,"names":["NavBar","axios","props","data","sum","item","content","getcErrorMessage","getsErrorMessage","pageSize","components","computed","pageCount","Math","ceil","methods","getSum","post","formatname","title","then","response","success","numm","message","catch","error","getContent","n","num","Itemlist","ValueList","created"],"sources":["/Users/aoliliaoao/Downloads/WisForm/FrontEnd/src/components/FormViewDetail.vue"],"sourcesContent":["<template>\n    <div class=\"form-view-detail\"> \n      <NavBar /> \n      <nav>\n        <ul>\n          <!-- 如果sum小于1，则不显示任何页码 -->\n          <li v-if=\"sum >= 1\" v-for=\"page in pageCount\" :key=\"page\" @click=\"getContent(page)\">\n            {{ page }}\n          </li>\n        </ul>\n      </nav>\n    </div>\n  </template>\n\n  <script>\n\n import NavBar from './NavBar.vue'; \n import axios from 'axios';\n  export default {\n    props: ['title'],\n    data(){\n      return {\n        sum:2,\n        item: ['item1','item2'],\n        content:['1','2'],\n        getcErrorMessage:'',\n        getsErrorMessage:'',\n        pageSize: 4,\n      }\n    },\n    components: {  \n    NavBar  \n    } ,\n    computed: {\n      // 计算总页数\n      pageCount() {\n        // 使用Math.ceil来确保如果有余数，则增加一页\n        return Math.ceil(this.sum / this.pageSize);\n      },\n    },\n    methods:{\n      getSum(){\n        axios.post('http://localhost:8080/fillformlist', {  \n        formatname:this.title\n        })  \n        .then(response => {  \n          if (response.data.success) {  \n            this.sum=response.data.numm\n          }\n          else {  \n            this.getsErrorMessage = response.data.message || '表单获取失败，请稍后再试';  \n          }\n         })  \n        .catch(error => {  \n          if (error.response) {  \n            // 后端返回的错误信息\n            this.getsErrorMessage = error.response.data;   \n          }\n          else {\n            this.getsErrorMessage = '表单获取失败，请稍后再试';\n          }\n        }); \n      },\n      getContent(n){\n        axios.post('http://localhost:8080/fillformlist', {  \n          num:n\n        })  \n        .then(response => {  \n          if (response.data.success) {  \n            this.item=response.data.Itemlist,\n            this.content=response.data.ValueList\n          }\n          else {  \n            this.getcErrorMessage = response.data.message || '表单获取失败，请稍后再试';  \n          }\n         })  \n        .catch(error => {  \n          if (error.response) {  \n            // 后端返回的错误信息\n            this.getcErrorMessage = error.response.data;   \n          }\n          else {\n            this.getcErrorMessage = '表单获取失败，请稍后再试';\n          }\n        }); \n      }\n    },\n\n    created() {  \n      //this.getSum();\n      //this.getContent(0); \n    }, \n  };\n  </script>\n  \n<style scoped>\n  /* 这里可以添加你的样式代码 */\n  nav ul {\n    list-style-type: none;\n    padding: 0;\n    display: flex;\n    justify-content: center;\n  }\n  \n  nav ul li {\n    margin: 0 5px;\n    cursor: pointer;\n  }\n  \n  nav ul li.active {\n    /* 可以添加选中状态的样式 */\n    font-weight: bold;\n  }\n  </style>"],"mappings":"AAgBC,OAAOA,MAAK,MAAO,cAAc;AACjC,OAAOC,KAAI,MAAO,OAAO;AACxB,eAAe;EACbC,KAAK,EAAE,CAAC,OAAO,CAAC;EAChBC,IAAIA,CAAA,EAAE;IACJ,OAAO;MACLC,GAAG,EAAC,CAAC;MACLC,IAAI,EAAE,CAAC,OAAO,EAAC,OAAO,CAAC;MACvBC,OAAO,EAAC,CAAC,GAAG,EAAC,GAAG,CAAC;MACjBC,gBAAgB,EAAC,EAAE;MACnBC,gBAAgB,EAAC,EAAE;MACnBC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,UAAU,EAAE;IACZV;EACA;EACAW,QAAQ,EAAE;IACR;IACAC,SAASA,CAAA,EAAG;MACV;MACA,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACV,GAAE,GAAI,IAAI,CAACK,QAAQ,CAAC;IAC5C;EACF,CAAC;EACDM,OAAO,EAAC;IACNC,MAAMA,CAAA,EAAE;MACNf,KAAK,CAACgB,IAAI,CAAC,oCAAoC,EAAE;QACjDC,UAAU,EAAC,IAAI,CAACC;MAChB,CAAC,EACAC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAAClB,IAAI,CAACmB,OAAO,EAAE;UACzB,IAAI,CAAClB,GAAG,GAACiB,QAAQ,CAAClB,IAAI,CAACoB,IAAG;QAC5B,OACK;UACH,IAAI,CAACf,gBAAe,GAAIa,QAAQ,CAAClB,IAAI,CAACqB,OAAM,IAAK,cAAc;QACjE;MACD,CAAC,EACDC,KAAK,CAACC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACL,QAAQ,EAAE;UAClB;UACA,IAAI,CAACb,gBAAe,GAAIkB,KAAK,CAACL,QAAQ,CAAClB,IAAI;QAC7C,OACK;UACH,IAAI,CAACK,gBAAe,GAAI,cAAc;QACxC;MACF,CAAC,CAAC;IACJ,CAAC;IACDmB,UAAUA,CAACC,CAAC,EAAC;MACX3B,KAAK,CAACgB,IAAI,CAAC,oCAAoC,EAAE;QAC/CY,GAAG,EAACD;MACN,CAAC,EACAR,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAAClB,IAAI,CAACmB,OAAO,EAAE;UACzB,IAAI,CAACjB,IAAI,GAACgB,QAAQ,CAAClB,IAAI,CAAC2B,QAAQ,EAChC,IAAI,CAACxB,OAAO,GAACe,QAAQ,CAAClB,IAAI,CAAC4B,SAAQ;QACrC,OACK;UACH,IAAI,CAACxB,gBAAe,GAAIc,QAAQ,CAAClB,IAAI,CAACqB,OAAM,IAAK,cAAc;QACjE;MACD,CAAC,EACDC,KAAK,CAACC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACL,QAAQ,EAAE;UAClB;UACA,IAAI,CAACd,gBAAe,GAAImB,KAAK,CAACL,QAAQ,CAAClB,IAAI;QAC7C,OACK;UACH,IAAI,CAACI,gBAAe,GAAI,cAAc;QACxC;MACF,CAAC,CAAC;IACJ;EACF,CAAC;EAEDyB,OAAOA,CAAA,EAAG;IACR;IACA;EAAA;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}