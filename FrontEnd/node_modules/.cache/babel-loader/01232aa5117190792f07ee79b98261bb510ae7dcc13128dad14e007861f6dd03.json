{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, toDisplayString as _toDisplayString, vModelDynamic as _vModelDynamic, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-42725e23\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"dynamic-form\"\n};\nconst _hoisted_2 = [\"onUpdate:modelValue\"];\nconst _hoisted_3 = [\"onUpdate:modelValue\"];\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"text\"\n}, \"文本\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"number\"\n}, \"数字\", -1 /* HOISTED */));\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"for\"];\nconst _hoisted_8 = [\"type\", \"id\", \"onUpdate:modelValue\"];\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"submit-btn\"\n}, \"提交\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedFields, (field, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"form-item\"\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => field.label = $event,\n      placeholder: \"表单项名称\",\n      class: \"field-input\"\n    }, null, 8 /* PROPS */, _hoisted_2), [[_vModelText, field.label]]), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => field.type = $event,\n      class: \"field-select\"\n    }, [_hoisted_4, _hoisted_5, _createCommentVNode(\" 可以根据需要添加更多的选项 \")], 8 /* PROPS */, _hoisted_3), [[_vModelSelect, field.type]]), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeField(index),\n      class: \"remove-btn\"\n    }, \"-\", 8 /* PROPS */, _hoisted_6)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addField && $options.addField(...args)),\n    class: \"add-btn\"\n  }, \"添加表单项\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.generateForm && $options.generateForm(...args)),\n    class: \"generate-btn\"\n  }, \"确认\"), $data.showForm ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"])),\n    class: \"form\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedFields, (field, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"form-field\"\n    }, [_createElementVNode(\"label\", {\n      for: field.id,\n      class: \"field-label\"\n    }, _toDisplayString(field.label) + \"：\", 9 /* TEXT, PROPS */, _hoisted_7), _withDirectives(_createElementVNode(\"input\", {\n      type: field.type,\n      id: field.id,\n      \"onUpdate:modelValue\": $event => $data.formData[field.id] = $event,\n      class: \"field-input\"\n    }, null, 8 /* PROPS */, _hoisted_8), [[_vModelDynamic, $data.formData[field.id]]])]);\n  }), 128 /* KEYED_FRAGMENT */)), _hoisted_9], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","value","type","_createElementBlock","_hoisted_1","_Fragment","_renderList","$data","selectedFields","field","index","key","$event","label","placeholder","_hoisted_2","_hoisted_4","_hoisted_5","_createCommentVNode","_hoisted_3","onClick","$options","removeField","_hoisted_6","_cache","args","addField","generateForm","showForm","onSubmit","_withModifiers","submitForm","for","id","_hoisted_7","formData","_hoisted_8","_hoisted_9"],"sources":["/Users/aoliliaoao/Downloads/WisForm/FrontEnd/src/components/DynamicForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"dynamic-form\">\r\n    \r\n    <div v-for=\"(field, index) in selectedFields\" :key=\"index\" class=\"form-item\">\r\n      <input type=\"text\" v-model=\"field.label\" placeholder=\"表单项名称\" class=\"field-input\">\r\n      <select v-model=\"field.type\" class=\"field-select\">\r\n        <option value=\"text\">文本</option>\r\n        <option value=\"number\">数字</option>\r\n        <!-- 可以根据需要添加更多的选项 -->\r\n      </select>\r\n      <button @click=\"removeField(index)\" class=\"remove-btn\">-</button>\r\n    </div>\r\n    <button @click=\"addField\" class=\"add-btn\">添加表单项</button>\r\n    <button @click=\"generateForm\" class=\"generate-btn\">确认</button>\r\n    <form v-if=\"showForm\" @submit.prevent=\"submitForm\" class=\"form\">\r\n      <div v-for=\"(field, index) in selectedFields\" :key=\"index\" class=\"form-field\">\r\n        <label :for=\"field.id\" class=\"field-label\">{{ field.label }}：</label>\r\n        <input :type=\"field.type\" :id=\"field.id\" v-model=\"formData[field.id]\" class=\"field-input\">\r\n      </div>\r\n      <button type=\"submit\" class=\"submit-btn\">提交</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedFields: [{ id: 'field1', label: '字段1', type: 'text' }],\r\n      showForm: false,\r\n      formData: {}\r\n    };\r\n  },\r\n  methods: {\r\n    addField() {\r\n      const id = `field${this.selectedFields.length + 1}`;\r\n      this.selectedFields.push({ id, label: `字段${this.selectedFields.length + 1}`, type: 'text' });\r\n    },\r\n    removeField(index) {\r\n      this.selectedFields.splice(index, 1);\r\n    },\r\n    generateForm() {\r\n      this.showForm = true;\r\n      // 生成表单数据对象，用于绑定表单输入\r\n      this.formData = this.selectedFields.reduce((acc, field) => {\r\n        acc[field.id] = '';\r\n        return acc;\r\n      }, {});\r\n    },\r\n    submitForm() {\r\n      // 处理表单提交逻辑\r\n      console.log('提交表单:', this.formData);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dynamic-form {\r\n  max-width: 400px;\r\n  margin: auto;\r\n}\r\n\r\n.dynamic-form h2 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.field-input {\r\n  flex: 1;\r\n  margin-right: 10px;\r\n}\r\n\r\n.field-select {\r\n  width: 120px;\r\n}\r\n\r\n.remove-btn {\r\n  margin-left: 10px;\r\n}\r\n\r\n.add-btn, .generate-btn {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.form {\r\n  margin-top: 20px;\r\n}\r\n\r\n.form-field {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.field-label {\r\n  margin-right: 10px;\r\n}\r\n\r\n.submit-btn {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAc;mBAD3B;mBAAA;gEAMQC,mBAAA,CAAgC;EAAxBC,KAAK,EAAC;AAAM,GAAC,IAAE;gEACvBD,mBAAA,CAAkC;EAA1BC,KAAK,EAAC;AAAQ,GAAC,IAAE;mBAPjC;mBAAA;mBAAA;gEAmBMD,mBAAA,CAAoD;EAA5CE,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;GAAa,IAAE;;uBAlB/CI,mBAAA,CAoBM,OApBNC,UAoBM,I,kBAlBJD,mBAAA,CAQME,SAAA,QAXVC,WAAA,CAGkCC,KAAA,CAAAC,cAAc,EAHhD,CAGiBC,KAAK,EAAEC,KAAK;yBAAzBP,mBAAA,CAQM;MARyCQ,GAAG,EAAED,KAAK;MAAEX,KAAK,EAAC;wBAC/DC,mBAAA,CAAiF;MAA1EE,IAAI,EAAC,MAAM;MAJxB,uBAAAU,MAAA,IAIkCH,KAAK,CAACI,KAAK,GAAAD,MAAA;MAAEE,WAAW,EAAC,OAAO;MAACf,KAAK,EAAC;4BAJzEgB,UAAA,I,cAIkCN,KAAK,CAACI,KAAK,E,mBACvCb,mBAAA,CAIS;MATf,uBAAAY,MAAA,IAKuBH,KAAK,CAACP,IAAI,GAAAU,MAAA;MAAEb,KAAK,EAAC;QACjCiB,UAAgC,EAChCC,UAAkC,EAClCC,mBAAA,mBAAsB,C,iBAR9BC,UAAA,I,gBAKuBV,KAAK,CAACP,IAAI,E,GAK3BF,mBAAA,CAAiE;MAAxDoB,OAAK,EAAAR,MAAA,IAAES,QAAA,CAAAC,WAAW,CAACZ,KAAK;MAAGX,KAAK,EAAC;OAAa,GAAC,iBAV9DwB,UAAA,E;kCAYIvB,mBAAA,CAAwD;IAA/CoB,OAAK,EAAAI,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAK,QAAA,IAAAL,QAAA,CAAAK,QAAA,IAAAD,IAAA,CAAQ;IAAE1B,KAAK,EAAC;KAAU,OAAK,GAC/CC,mBAAA,CAA8D;IAArDoB,OAAK,EAAAI,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEJ,QAAA,CAAAM,YAAA,IAAAN,QAAA,CAAAM,YAAA,IAAAF,IAAA,CAAY;IAAE1B,KAAK,EAAC;KAAe,IAAE,GACzCQ,KAAA,CAAAqB,QAAQ,I,cAApBzB,mBAAA,CAMO;IApBXQ,GAAA;IAc2BkB,QAAM,EAAAL,MAAA,QAAAA,MAAA,MAdjCM,cAAA,KAAAL,IAAA,KAc2CJ,QAAA,CAAAU,UAAA,IAAAV,QAAA,CAAAU,UAAA,IAAAN,IAAA,CAAU;IAAE1B,KAAK,EAAC;yBACvDI,mBAAA,CAGME,SAAA,QAlBZC,WAAA,CAeoCC,KAAA,CAAAC,cAAc,EAflD,CAemBC,KAAK,EAAEC,KAAK;yBAAzBP,mBAAA,CAGM;MAHyCQ,GAAG,EAAED,KAAK;MAAEX,KAAK,EAAC;QAC/DC,mBAAA,CAAqE;MAA7DgC,GAAG,EAAEvB,KAAK,CAACwB,EAAE;MAAElC,KAAK,EAAC;wBAAiBU,KAAK,CAACI,KAAK,IAAG,GAAC,uBAhBrEqB,UAAA,G,gBAiBQlC,mBAAA,CAA0F;MAAlFE,IAAI,EAAEO,KAAK,CAACP,IAAI;MAAG+B,EAAE,EAAExB,KAAK,CAACwB,EAAE;MAjB/C,uBAAArB,MAAA,IAiB0DL,KAAA,CAAA4B,QAAQ,CAAC1B,KAAK,CAACwB,EAAE,IAAArB,MAAA;MAAGb,KAAK,EAAC;4BAjBpFqC,UAAA,I,iBAiB0D7B,KAAA,CAAA4B,QAAQ,CAAC1B,KAAK,CAACwB,EAAE,G;kCAErEI,UAAoD,C,8BAnB1DnB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}